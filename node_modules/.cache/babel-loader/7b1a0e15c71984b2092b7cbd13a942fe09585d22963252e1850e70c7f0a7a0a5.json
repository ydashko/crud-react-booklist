{"ast":null,"code":"import{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import{fetchBooks,toggleActive,deleteBook}from\"../components/api\";import BookTable from\"../components/BookTable\";import Filter from\"../components/Filter\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Home(){const[books,setBooks]=useState([]);const[filter,setFilter]=useState(\"all\");const navigate=useNavigate();useEffect(()=>{fetchBooks().then(setBooks);},[]);// function handleEdit(book) {\n//   navigate(`/edit-book/${book.id}`, { state: { book } });\n// }\nfunction handleToggleActive(id){const book=books.find(b=>b.id===id);toggleActive(id,book.active).then(()=>fetchBooks().then(setBooks));}function handleDelete(id){deleteBook(id).then(()=>fetchBooks().then(setBooks));}const filteredBooks=books.filter(book=>filter===\"all\"?true:filter===\"active\"?book.active:!book.active);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/add-book\"),children:\"Add Book\"}),/*#__PURE__*/_jsx(Filter,{filter:filter,setFilter:setFilter,books:books}),/*#__PURE__*/_jsx(BookTable,{books:filteredBooks,onToggleActive:handleToggleActive,onDelete:handleDelete})]});}","map":{"version":3,"names":["useState","useEffect","useNavigate","fetchBooks","toggleActive","deleteBook","BookTable","Filter","jsx","_jsx","jsxs","_jsxs","Home","books","setBooks","filter","setFilter","navigate","then","handleToggleActive","id","book","find","b","active","handleDelete","filteredBooks","children","onClick","onToggleActive","onDelete"],"sources":["/Users/yaroslavdashko/booklist/src/pages/Home.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { fetchBooks, toggleActive, deleteBook } from \"../components/api\";\nimport BookTable from \"../components/BookTable\";\nimport Filter from \"../components/Filter\";\n\nexport default function Home() {\n  const [books, setBooks] = useState([]);\n  const [filter, setFilter] = useState(\"all\");\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    fetchBooks().then(setBooks);\n  }, []);\n\n  // function handleEdit(book) {\n  //   navigate(`/edit-book/${book.id}`, { state: { book } });\n  // }\n\n  function handleToggleActive(id) {\n    const book = books.find(b => b.id === id);\n    toggleActive(id, book.active).then(() => fetchBooks().then(setBooks));\n  }\n\n  function handleDelete(id) {\n    deleteBook(id).then(() => fetchBooks().then(setBooks));\n  }\n\n  const filteredBooks = books.filter(book =>\n    filter === \"all\" ? true : filter === \"active\" ? book.active : !book.active\n  );\n\n  return (\n    <div>\n      <button onClick={() => navigate(\"/add-book\")}>Add Book</button>\n      <Filter filter={filter} setFilter={setFilter} books={books} />\n      <BookTable books={filteredBooks} onToggleActive={handleToggleActive} onDelete={handleDelete} />\n    </div>\n  );\n}"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,UAAU,CAAEC,YAAY,CAAEC,UAAU,KAAQ,mBAAmB,CACxE,MAAO,CAAAC,SAAS,KAAM,yBAAyB,CAC/C,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1C,cAAe,SAAS,CAAAC,IAAIA,CAAA,CAAG,CAC7B,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACe,MAAM,CAAEC,SAAS,CAAC,CAAGhB,QAAQ,CAAC,KAAK,CAAC,CAC3C,KAAM,CAAAiB,QAAQ,CAAGf,WAAW,CAAC,CAAC,CAE9BD,SAAS,CAAC,IAAM,CACdE,UAAU,CAAC,CAAC,CAACe,IAAI,CAACJ,QAAQ,CAAC,CAC7B,CAAC,CAAE,EAAE,CAAC,CAEN;AACA;AACA;AAEA,QAAS,CAAAK,kBAAkBA,CAACC,EAAE,CAAE,CAC9B,KAAM,CAAAC,IAAI,CAAGR,KAAK,CAACS,IAAI,CAACC,CAAC,EAAIA,CAAC,CAACH,EAAE,GAAKA,EAAE,CAAC,CACzChB,YAAY,CAACgB,EAAE,CAAEC,IAAI,CAACG,MAAM,CAAC,CAACN,IAAI,CAAC,IAAMf,UAAU,CAAC,CAAC,CAACe,IAAI,CAACJ,QAAQ,CAAC,CAAC,CACvE,CAEA,QAAS,CAAAW,YAAYA,CAACL,EAAE,CAAE,CACxBf,UAAU,CAACe,EAAE,CAAC,CAACF,IAAI,CAAC,IAAMf,UAAU,CAAC,CAAC,CAACe,IAAI,CAACJ,QAAQ,CAAC,CAAC,CACxD,CAEA,KAAM,CAAAY,aAAa,CAAGb,KAAK,CAACE,MAAM,CAACM,IAAI,EACrCN,MAAM,GAAK,KAAK,CAAG,IAAI,CAAGA,MAAM,GAAK,QAAQ,CAAGM,IAAI,CAACG,MAAM,CAAG,CAACH,IAAI,CAACG,MACtE,CAAC,CAED,mBACEb,KAAA,QAAAgB,QAAA,eACElB,IAAA,WAAQmB,OAAO,CAAEA,CAAA,GAAMX,QAAQ,CAAC,WAAW,CAAE,CAAAU,QAAA,CAAC,UAAQ,CAAQ,CAAC,cAC/DlB,IAAA,CAACF,MAAM,EAACQ,MAAM,CAAEA,MAAO,CAACC,SAAS,CAAEA,SAAU,CAACH,KAAK,CAAEA,KAAM,CAAE,CAAC,cAC9DJ,IAAA,CAACH,SAAS,EAACO,KAAK,CAAEa,aAAc,CAACG,cAAc,CAAEV,kBAAmB,CAACW,QAAQ,CAAEL,YAAa,CAAE,CAAC,EAC5F,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}